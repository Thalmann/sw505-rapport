\section{Teori}

\subsection{Grundlæggende}
\begin{frame}{Bayes Regel}
Opdatering af troen på en proposition ved ny evidens
\[
\begin{split}
P(h \mid e) = \frac{P(e \mid h) \times P(h)}{P(e)}
\end{split}
\]
\end{frame}

\begin{frame}{Log Odds}
\begin{figure}
\centering \includegraphics[scale=.2]{LogOdds}
\label{logoddsimg}
\end{figure}

%Log odds er en metode der kan benyttes for at undgå, at komponenterne i Bayes Regel enten bliver definitivt sande eller falske.
%
%Der kan derfor indføres en funktion, \textit{log odds ratio}, som mapper sandsynlighedsværdierne fra $[0;1]$ til $[-\infty;\infty]$.
%Oddset for tilstand $x$ er defineret som forholdet mellem sandsynlighederne for $x$ og $\lnot x$: 

\[
l(x) = \log \frac{p(x)}{1 - p(x)}
\]

\end{frame}

\subsection{Occupancy Grid}
\begin{frame}{Occupancy Grid}
\begin{figure}[h] % Kørselsmiljø og et occupancy grid
\centering
	\begin{subfigure}[b]{.48\textwidth}
	\centering
	\includegraphics[width=\textwidth]{verden/oppefra}
	\caption{Aktuelt Kørselsmiljø.}
	\label{map:world}
	\end{subfigure}
	\hfill
	\begin{subfigure}[b]{.48\textwidth}
	\centering
	\includegraphics[width=\textwidth]{verden/occupancy_grid_verden}
	\caption{Occupancy Grid.}
	\label{map:occupancy_grid}
	\end{subfigure}

\end{figure}
\end{frame}

\begin{frame}
\begin{algorithm}[H]
OccupancyGridMapping(\{$l_{t-1,i}$\}, $x_t$, $z_t$):

\ForAll{cells $ m_i $}
{
\eIf{$ x_i = x_r$ or $y_i = y_r$}
%then
{ $ l_{t,i} = l_{t-1,i} $ + \textbf{inverse\_sensor\_model} $( m_i, x_t, z_t ) - l_0$\\ }
%else
{ $ l_{t,i} = l_{t-1,i}  $\\ }
}
\Return {$ \{l_{t,i}\} $}
\end{algorithm}
\end{frame}

\subsection{Sensormodeller}
\begin{frame}{Simpel sensormodel}
Illustration?!
\[
l_{r} = \begin{cases} 
	l_0 &\text{hvis }r > \text{min}(z_{max},z_t+\frac{\alpha}{2}) \\ 
	l_{occ} &\text{hvis } z_t-\frac{\alpha}{2} \leq r \leq z_t+\frac{\alpha}{2}\\ 
	l_{free} &\text{ellers}  
\end{cases}
\]

\[ r = \mid x_{cell} - x_{robot} + y_{cell} - y_{robot} \mid \]

\end{frame}

\begin{frame}{Gaussisk sensormodel}
\[
	P_\kappa(r) = \begin{cases}
		\frac{P_{occ}-P_0}{P(z_t)-P(z_t+\frac{\alpha}{2})}(r-P(z_t))+P_{occ} &\text{hvis } z_t < r \\
		\frac{P_{free}-P_{occ}}{P(z_t-\frac{\alpha}{2})-P(z_t)}(r-P(z_t))+P_{occ} &\text{hvis } z_t \geq r 
	\end{cases}
\]

\[
	l_{r} = \begin{cases} 
		l_0 &\text{hvis }r > \text{min}(z_{max},z_t+\frac{\alpha}{2}) \\
		log\Big(\frac{P_\kappa(r)}{1-P_\kappa(r)}\Big) &\text{hvis } z_t < r \leq z_t+\frac{\alpha}{2} \\
		log\Big(\frac{P_\kappa(r)}{1-P_\kappa(r)}\Big) &\text{hvis } z_t-\frac{\alpha}{2} \leq r \leq z_t \\
		l_{free} &\text{ellers}	
	\end{cases} 
\]
\end{frame}

