% !TeX spellcheck = da_DK
Dette kapitel præsenterer en evaluering af projektets endelige løsning.
I evalueringen testes de to valgte sensormodeller (\cref{mapping:sensormodel}) for at finde ud af hvilken af de to der fungerer bedst.

\section{Formål}
Formålet med denne test er at se hvilken sensormodel, der kommer frem til det mest præcise kort.
Dette er for at se om målsætningen beskrevet på side \pageref{problem:maalsaetning} er opfyldt.

\section{Vurderingsmål}
Da alle tests vil returnere et helt eller delvist udfyldt occupancy grid, vil sammenligningen gå ud fra dette.
Alle grids, som er resultat af en test, vil blive sammenlignet med et optimalt occupancy grid (lavet ud fra fysisk observation).
Ethvert grid (både test og optimalt) vil bestå af tre typer celler:
\begin{description}
\item[Optaget]{ er en celle, hvor der er en forhindring.}
\item[Fri]{ er en celle der er fri.}
\item[Ukendt]{ er en celle, hvor om der ikke er opnået viden.
For det optimale grid, vil det være celler inde i en større forhindring.
For et test grid, kan det være det samme som for det optimale, dog kan der også forekomme ukendte celler, som skulle have været enten frie eller optagede.}
\end{description}

\subsection{Sammenligning}
For enhver celle i et test grid, vil denne blive sammenlignet med den tilsvarende celle i det optimale grid.
Der vil være i alt 9 scenarier, da enhver celle har 3 tilstande.
I \cref{evaluering:sammenligning} kan resultatet af denne sammenligning ses.

\begin{table}[h]
\centering
\begin{tabular}{|l|c|c|c|}
\hline
Test \textbackslash~Optimalt & Optaget & Fri & Ukendt \\ \hline
Optaget & $+1$ & $-1$ & $0$ \\ \hline
Fri & $-1$ & $+1$ & $0$ \\ \hline
Ukendt & $-1$ & $-1$ & $0$ \\ \hline
\end{tabular}
\caption{Resultater for sammenligning af test grid celle og optimalt grid celle.}
\label{evaluering:sammenligning}
\end{table}

\subsection{Resultat}
Resultatet for et enkelt test grid vil være en akkumulering af sammenlignings-værdierne for cellerne.
Derved kommer der et enkelt tal for enhver test, hvorfor disse efterfølgende let kan sammenlignes.

\section{Test}\label{evaluering:test_beskrivelse}
Der bliver foretaget tre tests med hver sensormodel (\cref{mapping:sensormodel}).
I alle test benyttes ruteplanlægning beskrevet i \cref{ruteplanleagning}.
Robotten kører hen til et punkt og scanner to gange - dette foretages 75 gange.
Alle data bliver logget, så det er muligt at genskabe et kort udfra det.

\subsection{Opstilling}\label{evaluering:opstilling}
Testmiljøet er beskrevet i \cref{testmiljo}.
Selve opstillingen til testen kan ses på \cref{evaluering:emptyGrid}, her kan man desuden se robottens startposition, som er den samme i alle tests.

\begin{figure}[h]
\includegraphics[width=\textwidth]{emptyGrid}
\caption{Forsøgsopstillingen inden hver test sættes i gang.}
\label{evaluering:emptyGrid}
\end{figure}

\subsection{Resultater}

\subsubsection*{Optimalt resultat}
For at kunne lave en sammenligning mellem resultater, skal hvert enkelt resultat først sammenlignes med det optimale, hvorefter afvigelsen kan måles og sammenlignes.

Det optimale grid består af i alt 555 markede celler; 110 optagede celler og 445 frie celler.
Det optimale grid kan ses i \cref{evaluering:optimaltgrid}.

\begin{figure}[h]
\begin{subfigure}[t]{.48\textwidth}
\includegraphics[width=\textwidth]{testresultater/optimalt}
\caption{Det optimale grid.}
\label{evaluering:optimaltgrid}
\end{subfigure}
\hfill
\begin{subfigure}[t]{.48\textwidth}
\includegraphics[width=\textwidth]{testresultater/gauss3}
\caption{Det bedste resultat (gausisk sensormodel).}
\label{evaluering:gauss3}
\end{subfigure}
\centering
\begin{subfigure}[b]{.48\textwidth}
\vspace{0.5em}
\includegraphics[width=\textwidth]{testresultater/simpel1}
\caption{Det bedste resultat med den simple sensormodel.}
\label{evaluering:simpel1}
\end{subfigure}
\caption{Det optimale grid kontra de bedste resultater.}
\label{evaluering:optvsbedst}
\end{figure}




\subsubsection*{Bedste resultat}
Det bedste resultat var for den 3. test med Gaussian Sensor Model.
Resultatet var 337 korrekte celler (ud af de 555 mulige), som det kan ses i \cref{evaluering:gauss3}. 
Det  bedste resultat med den simple sensormodel var den 1. test. 
Dette kan ses på \cref{evaluering:simpel1}.
Resultatet for denne var 193 korrekte celler.

\subsubsection*{Øvrige resultater}
De øvrige test-resultater kan ses i \cref{evaluering:testresultater}.
Her kan det ses at den Gaussiske sensor model giver klart det bedste resultat, og at resultaterne er nogenlunde konsistente hver især for de to modeller.

\begin{table}[h]
\centering
\begin{tabular}{|l|r|}
\hline
\textbf{Test \#} & \textbf{Resultat} \\ \hline \hline
Simpel, Test 1 & 193 \\ \hline
Simpel, Test 2 & 187 \\ \hline
Simpel, Test 3 & 193 \\ \hline \hline
Gaussisk, Test 1 & 297 \\ \hline
Gaussisk, Test 2 & 325 \\ \hline
Gaussisk, Test 3 & 337 \\ \hline
\end{tabular}
\caption{Oversigt over test-resultaterne}
\label{evaluering:testresultater}
\end{table}

\subsubsection*{Konklusion}
Ud fra resultaterne kan det ses at den gaussiske model præsterer bedre end den simple sensormodel. 
Resultaterne for den simple model ligger omkring 190 mens resultaterne for den gaussiske liger omkring 300.

Ud fra kortene kan det dog ses at den simple finder kassen bedre end den gaussiske.
Som det ses på \cref{evaluering:gauss3} er kassens omrids kun markeret i nederste højre hjørne, mens den simple model på \cref{evaluering:simpel1} har har et større område der er markeret som optaget.
I praksis vil det betyde at selvom den gaussiske giver et mere præcist resultat er der en risiko for at den vil lave et kort hvor der er frie celler hvor der burde være optaget, hvilket kan få robotten til at køre ind i en væg.
