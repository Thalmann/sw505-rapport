Dette kapitel evaluerer de to valgte sensormodeller (\cref{mapping:sensormodel}).
\thilemann{lidt fesen intro, men måske svær at gøre mere interessant...}

\section{Formål}
Formålet med denne test er at se hvilken sensormodel, der kommer frem til det mest præcise kort.
Dette er for at se om målsætningen beskrevet i \cref{problem:maalsaetning} er opfyldt.\thilemann{Er det kun mig som har problemer med denne henvisning?}

\section{Vurderingsmål}
Da alle tests vil returnere et helt eller delvist udfyldt occupancy grid, vil sammenligningen gå ud fra dette.
Alle grids, som er resultat af en test, vil blive sammenlignet med et optimalt occupancy grid (lavet ud fra fysisk observation).
Ethvert grid (både test og optimalt) vil bestå af tre typer celler:
\thilemann{Vi skriver tidligere i rapporten om at celler kan vær \textit{occupied} og \textit{free} - vi bør være konsekvente og kun benytte danske termer}
\begin{description}
\item[Optaget]{ er en celle, hvor der er en forhindring.}
\item[Fri]{ er en celle, der er vurderet som fri, enten gennem måling eller ved at robotten er kørt hen over den.}
\item[Ukendt]{ er en celle, hvor om der ikke er opnået viden.
For det optimale grid, vil det være celler inde i en større forhindring.
For et test grid, kan det være det samme som for det optimale, dog kan der også forekomme ukendte celler, som skulle have været enten frie eller optagede.}
\end{description}

\subsection{Sammenligning}
For enhver celle i et test grid, vil denne blive sammenlignet med den tilsvarende celle i det optimale grid.
Der vil være i alt 9 scenarier, da enhver celle har 3 tilstande.
I \cref{evaluering:sammenligning} kan resultatet af denne sammenligning ses.

\begin{table}[h]
\centering
\begin{tabular}{|l|c|c|c|}
\hline
Test \textbackslash~Optimalt & Optaget & Fri & Ukendt \\ \hline
Optaget & $+1$ & $-1$ & $0$ \\ \hline
Fri & $-1$ & $+1$ & $0$ \\ \hline
Ukendt & $-1$ & $-1$ & $0$ \\ \hline
\end{tabular}
\caption{Resultater for sammenligning af test grid celle og optimalt grid celle.}
\label{evaluering:sammenligning}
\end{table}

\subsection{Resultat}
Resultatet for et enkelt test grid vil være en akkumulering af sammenlignings-værdierne for cellerne.
Derved kommer der et enkelt tal for enhver test, hvorfor disse efterfølgende let kan sammenlignes.

\section{Test}\label{evaluering:test_beskrivelse}
Der bliver foretaget tre tests med hver sensormodel (\cref{mapping:sensormodel}).
I alle test benyttes ruteplanlægning beskrevet i \cref{ruteplanleagning}.
Robotten kører hen til et punkt og scanner to gange - dette foretages 75 gange.
Alle data bliver logget, så det er muligt at genskabe et kort udfra det.
Opstillingen af testen er beskrevet i \cref{evaluering:opstilling}

\subsection{Opstilling}\label{evaluering:opstilling}
Testmiljøet er beskrevet i \cref{testmiljo}.
Selve opstillingen til testen kan man se på \cref{evaluering:emptyGrid}, her kan man desuden se robottens startposition, som er den samme i alle tests.

\begin{figure}[h]
\includegraphics[width=\textwidth]{emptyGrid}
\caption{Forsøgsopstillingen inden hver test sættes i gang.}
\label{evaluering:emptyGrid}
\end{figure}

\subsection{Resultater}

\subsubsection{Optimalt resultat}
For at kunne lave en sammenligning mellem resultater, skal hvert enkelt resultat først sammenlignes med det optimale, hvorefter afvigelsen kan måles og sammenlignes.

Det optimale grid består af i alt 555 markede celler; 110 optagede celler og 445 frie celler.
Det optimale grid kan ses i \cref{evaluering:optimaltgrid}.

\begin{figure}[h]
\centering
\begin{subfigure}[b]{.48\textwidth}
\centering
\includegraphics[width=\textwidth]{testresultater/optimalt}
\caption{Det optimale grid}
\label{evaluering:optimaltgrid}
\end{subfigure}
\begin{subfigure}[b]{.48\textwidth}
\centering
\includegraphics[width=\textwidth]{testresultater/gauss3}
\caption{Det bedste resultat}
\label{evaluering:gauss3}
\end{subfigure}
\caption{Det optimale grid, kontra det bedste resultat}
\label{evaluering:optvsbedst}
\end{figure}

\subsubsection{Bedste resultat}
Det bedste resultat var for den 3. test med Gaussian Sensor Model.
Resultatet var 337 korrekte celler (ud af de 555 mulige), som det kan ses i \cref{evaluering:gauss3}.

\subsubsection{Øvrige resultater}
De øvrige test-resultater kan ses i \cref{evaluering:testresultater}.
Her kan det ses at den Gaussiske sensor model giver klart det bedste resultat, og at resultaterne er nogenlunde konsistente hver især for de to modeller.

\begin{table}[h]
\centering
\begin{tabular}{|l|r|}
\hline
\textbf{Test \#} & \textbf{Resultat} \\ \hline \hline
Simpel, Test 1 & 193 \\ \hline
Simpel, Test 2 & 187 \\ \hline
Simpel, Test 3 & 193 \\ \hline \hline
Gaussisk, Test 1 & 297 \\ \hline
Gaussisk, Test 2 & 325 \\ \hline
Gaussisk, Test 3 & 337 \\ \hline
\end{tabular}
\caption{Oversigt over test-resultaterne}
\label{evaluering:testresultater}
\end{table}
